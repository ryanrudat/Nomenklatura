# Nomenklatura Development Session #008
**Date:** 2025-12-19

---

## Summary

This session completed the **World Rework Plan**, transforming the game from a fictional Soviet-style state (Volkeria) to an alternate-history socialist America (PSRA). The session verified and cleaned up the following components:

1. **Faction Renames** - Updated remaining "Old Guard" and "Regional" references
2. **Character Names** - Verified 30+ American names already in place
3. **Domestic Regions** - Verified 7 American zones, fixed outdated references
4. **Foreign Countries** - Verified 11 nations, cleaned up fictional country names
5. **Terminology** - Changed SPB → BPS (Bureau of People's Security)
6. **Documentation** - Verified WORLD_BUILDING.md is complete
7. **Template & Preview Names** - Updated ~80 Soviet-style names in document templates and SwiftUI previews
8. **Additional Soviet Name Cleanup** - Replaced ~100 more Soviet names in narratives, scenarios, and services

---

## Part 1: Faction Renames

### Changes Made

Updated remaining faction display names in UI components:

| File | Line | Change |
|------|------|--------|
| `LawCard.swift` | 206-207 | "Old Guard" → "Proletariat Union", "Regional Coalition" → "Provincial Administration" |
| `StandingCommitteeView.swift` | 361-362 | "Old Guard" → "Proletariat Union", "Regional" → "Provincial Admin" |
| `LawProposalSheet.swift` | 363-364 | Same as LawCard.swift |
| `TappableName.swift` | 407 | Preview: "Old Guard" → "Proletariat Union" |
| `ReactionsSection.swift` | 209-244 | Updated 5 code comments referencing faction names |

### Faction Mapping

| Internal ID | Old Display Name | New Display Name |
|-------------|------------------|------------------|
| `old_guard` | Old Guard | Proletariat Union |
| `regional` | Regional / Regional Coalition | People's Provincial Administration |
| `youth_league` | Youth League | Youth League (unchanged) |
| `princelings` | Princelings | Princelings (unchanged) |
| `reformists` | Reformists | Reformists (unchanged) |

---

## Part 2: Character Names

### Status: Already Complete

All 30+ character names were already updated to American names in a previous session:

**Top Leadership:**
- Harold Mitchell (General Secretary)
- General Raymond Carter (Deputy)

**Party Apparatus:**
- Eleanor Patterson, Comrade Henderson, Walter Hoffman, Victor Rawlings, Clara Donovan

**State Ministry:**
- Albert Crawford, Gregory Mason, Irene Sullivan, Peter Collins

**Security Services:**
- Director Wallace, Colonel Edwards, Major Strickland, Captain Reynolds

**Foreign Affairs:**
- Secretary Marshall, Nicholas Graham, Kenneth Roberts, Bernard Lawrence, Theresa Sanchez, Eugene Chambers

**Economic Planning:**
- Director Kowalski, Anthony Carpenter, Wesley Thompson, Laura Erickson

**Military-Political:**
- General Fletcher, General Bellows, General Orlando, Major Spencer

**Regional:**
- James Sheridan, Nathan Armstrong, Andrew Lincoln, Samuel Bodine

**Other:**
- Lieutenant Peterson, Counselor Walsh, Economist Sutton, Captain Kowalczyk, Instructor Kennedy

---

## Part 3: Domestic Regions

### Status: Already Complete

All 7 American zones were already implemented. Fixed outdated references:

| File | Line | Change |
|------|------|--------|
| `HistoricalMechanics.swift` | 382 | "Oblast/SSR leadership" → "Zone governors and provincial leadership" |
| `GameOverCondition.swift` | 26 | "Volkhrad falls" → "Washington falls" |
| `Region.swift` | 133 | Comment: "volkhrad" → "capital_district" |

### Zone Summary

| Zone | Name | Type | Key Features |
|------|------|------|--------------|
| 7 | Capital District | capital | Washington D.C., Party control 95% |
| 1 | Northeast Industrial Zone | industrial | Revolution cradle, 28% GDP |
| 2 | Great Lakes Zone | industrial | Arsenal of Revolution, 25% GDP |
| 3 | Pacific Zone | coastal | Ports, Hollywood, late to Revolution |
| 4 | Southern Zone | autonomous | Highest autonomy desire (55%) |
| 5 | Plains Zone | agricultural | Breadbasket, sparse Party presence |
| 6 | Mountain Zone | extractive | Mining, labor camps, remote |

---

## Part 4: Foreign Countries

### Status: Already Complete

All 11 nations were already implemented. Cleaned up fictional country references:

| File | Line | Change |
|------|------|--------|
| `NewspaperGenerator.swift` | 597 | Fallback: "Valdoria" → "Germany" |
| `NewspaperGenerator.swift` | 766-767 | Fallbacks: "Korvath"/"Brechtland" → "United Kingdom"/"Canada" |
| `ForeignCountry.swift` | 159 | Comment: "valdoria" → "soviet_union" |
| `ScenarioPromptBuilder.swift` | 874-882 | Regional themes: fictional names → American zone names |
| `ScenarioPromptBuilder.swift` | 884-895 | International themes: fictional → real countries |
| `ScenarioManager.swift` | 1066-1085 | Cultural exhibition: "Brechtlanders" → "French" |
| `WorldEvent.swift` | 270 | Comment: "SPB Station Chief, Korvath" → "BPS Station Chief, London" |
| `ClassifiedOperationCard.swift` | 592 | "Border tensions with Korvath" → "Border tensions with Canada" |

### Country Summary

| Bloc | Country | Leader | Relationship |
|------|---------|--------|--------------|
| **Socialist** | Soviet Union | Premier Malenkov | Friendly (+55) |
| **Socialist** | Germany | Chairman Thälmann | Allied (+70) |
| **Capitalist** | Cuba (US Exile) | Pres. Taft Jr. | Hostile (-75) |
| **Capitalist** | Canada | PM Drew | Hostile (-70) |
| **Capitalist** | United Kingdom | PM Eden | Hostile (-60) |
| **Capitalist** | France | Premier Mendès France | Strained (-25) |
| **Non-Aligned** | Italy | Duce Mussolini | Hostile (-55) |
| **Non-Aligned** | Spain | Caudillo Franco | Hostile (-50) |
| **Non-Aligned** | Japan | PM Kishi | Hostile (-65) |
| **Non-Aligned** | China | Gen. Chiang Kai-shek | Neutral (+15) |
| **Non-Aligned** | Mexico | Pres. Alemán Valdés | Neutral (+10) |

---

## Part 5: Terminology (SPB → BPS)

### Changes Made

Changed **State Protection Bureau (SPB)** → **Bureau of People's Security (BPS)** throughout the codebase.

| File | Changes |
|------|---------|
| `Institution.swift:145` | Comment: "Military, SPB" → "Military, BPS" |
| `HistoricalMechanics.swift:380` | Comment: "State Protection Bureau (SPB)" → "Bureau of People's Security (BPS)" |
| `CharacterAgencyService.swift:3789` | Comment: "SPB track governance" → "BPS track governance" |
| `CharacterInteractionSystem.swift` | Variable: `isInSPB` → `isInBPS` (17 occurrences via replace_all) |
| `CharacterCardView.swift:119` | Comment: "for SPB operations" → "for BPS operations" |
| `CharacterCardView.swift:2295` | MARK comment updated |
| `CharacterCardView.swift:2404-2408` | `.spbOperation` → `.bpsOperation`, `"SPB_OPS"` → `"BPS_OPS"` |
| `ClassifiedOperationCard.swift:6` | Comment updated |
| `ClassifiedOperationCard.swift:89` | Enum: `case spbOperation = "SPB OPERATION"` → `case bpsOperation = "BPS OPERATION"` |
| `ClassifiedOperationCard.swift:40,305,573` | `.spbOperation` → `.bpsOperation` (via replace_all) |

### Terminology Reference

| Term | Full Name | Description |
|------|-----------|-------------|
| PSRA | People's Socialist Republic of America | The nation |
| BPS | Bureau of People's Security | Secret police (formerly SPB) |
| Presidium | Presidium | Kept unchanged (common socialist term) |

---

## Part 6: Documentation

### Status: Already Complete

`WORLD_BUILDING.md` was already fully updated with:

- Historical Timeline (1929-1950s)
- Government Structure (Party, Politburo, BPS, etc.)
- All 7 Domestic Zones
- All 11 Foreign Countries
- All 5 Political Factions (with new names)
- Terminology Quick Reference
- Design Philosophy

---

## Files Modified Summary

### Faction Renames
| File | Lines |
|------|-------|
| `Views/Congress/LawCard.swift` | 206-207 |
| `Views/Congress/StandingCommitteeView.swift` | 361-362 |
| `Views/Congress/LawProposalSheet.swift` | 363-364 |
| `Views/Components/TappableName.swift` | 407 |
| `Views/Outcome/ReactionsSection.swift` | 209, 216, 230, 237, 244 |

### Region References
| File | Lines |
|------|-------|
| `Models/HistoricalMechanics.swift` | 382 |
| `Models/GameOverCondition.swift` | 26 |
| `Models/Region.swift` | 133 |

### Foreign Country References
| File | Lines |
|------|-------|
| `Services/NewspaperGenerator.swift` | 597, 766-767 |
| `Models/ForeignCountry.swift` | 159 |
| `Services/AI/ScenarioPromptBuilder.swift` | 874-895 |
| `Services/ScenarioManager.swift` | 1066, 1074, 1085 |
| `Models/World/WorldEvent.swift` | 270 |
| `Views/Components/ClassifiedOperationCard.swift` | 592 |

### SPB → BPS
| File | Changes |
|------|---------|
| `Models/Institution.swift` | 1 comment |
| `Models/HistoricalMechanics.swift` | 1 comment |
| `Services/CharacterAgencyService.swift` | 1 comment |
| `Services/CharacterInteractionSystem.swift` | 17 variable renames |
| `Views/Dossier/CharacterCardView.swift` | 2 comments, 3 code references |
| `Views/Components/ClassifiedOperationCard.swift` | 1 comment, 1 enum, 3 code references |

---

## Build Verification

```
** BUILD SUCCEEDED **
```

All changes compiled successfully after each modification phase.

---

## World Rework Plan - Complete

| Part | Description | Status |
|------|-------------|--------|
| 1 | Faction Renames | ✓ Complete |
| 2 | Domestic Regions (7 Zones) | ✓ Complete |
| 3 | Foreign Countries (11 Nations) | ✓ Complete |
| 4 | Character Names (30+) | ✓ Complete |
| 5 | Terminology (SPB → BPS) | ✓ Complete |
| 6 | Documentation | ✓ Complete |

---

## Key Alternate History Elements

### The PSRA Timeline

- **1932:** Hoover wins re-election, continues failed policies
- **1936-1940:** Second American Civil War - Labour Councils vs Federal forces
- **1940:** Communist Party victory, PSRA established
- **1940-1941:** USSR provides aid, receives part of Alaska
- **1941-1942:** Britain/Canada intervention; PSRA seizes BC + Alberta
- **1941:** Japan seizes Hawaii during chaos
- **Present (1950s):** ~10-15 years after Revolution

### Key Dynamics

- Cuba hosts "legitimate" US government-in-exile
- Canada wants lost provinces back (BC + Alberta)
- Japan occupies Hawaii - liberation is national priority
- USSR expects ideological conformity; PSRA chafes
- Germany avoided Nazi takeover - united left won 1932

---

## Technical Notes

### Variable Naming Convention

Changed `isInSPB` → `isInBPS` for consistency with new terminology. This affects security track checking throughout the codebase.

### Image Asset References

Changed `"SPB_OPS"` → `"BPS_OPS"` for image prefixes. If actual image assets exist with old names, they should be renamed to match.

### Enum Case Naming

Changed `case spbOperation` → `case bpsOperation` in `OperationType` enum. All usage sites updated via `replace_all`.

---

## Part 7: Template & Preview Name Changes

### Overview

During simulator testing, Soviet-style names were discovered in document templates, scenario presenters, and SwiftUI preview code. These were updated to match the American name scheme.

### Name Mapping Applied

| Old Soviet Name | New American Name |
|-----------------|-------------------|
| Minister Volkov | Director Wallace |
| Yevgeni Morozov | Eugene Morrison |
| Director Morozov | Director Morrison |
| Marshal Antonov | General Anderson |
| Minister Kuznetsov | Secretary Kennedy |
| Comrade Petrov | Comrade Peterson |
| Secretary Petrov | Secretary Peterson |
| Lieutenant Petrov | Lieutenant Peterson |
| Secretary Ivanov | Secretary Irving |
| Deputy Gromov | Deputy Graham |
| Minister Sorokin | Secretary Sullivan |
| Deputy Sorokin | Deputy Sullivan |
| Deputy Kozlov | Deputy Kowalski |
| Premier Kozlov | Premier Kowalski |
| Morozova | Morrison |

### Files Modified

#### Services

| File | Changes |
|------|---------|
| `ScenarioManager.swift` | 8 presenter name updates + 1 narrative text ("Morozov" → "Morrison") |
| `DocumentQueueService.swift` | ~40 template character names (subjects, signers, targets, etc.) |

#### Views - Portrait Mappings

| File | Changes |
|------|---------|
| `BriefingPaperView.swift` | Portrait dictionary keys + character entrance names |
| `CharacterCardView.swift` | Portrait dictionary keys (2 locations) |
| `ImmersiveComponents.swift` | Portrait preview names |

#### Views - Preview Code

| File | Changes |
|------|---------|
| `NewspaperView.swift` | Deputy Minister Kozlov → Deputy Minister Kowalski |
| `SamizdatView.swift` | Deputy Minister Kozlov → Deputy Minister Kowalski |
| `NarrativeEventView.swift` | Secretary Petrov, Comrade Volkov, Marshal Antonov |
| `DocumentDetailView.swift` | Minister Volkov → Director Wallace |
| `DocumentCardView.swift` | Minister Volkov → Director Wallace |
| `DossierView.swift` | Minister Volkov, Comrade Petrov |
| `FactionBadge.swift` | Volkov, Morozova, Antonov preview names |
| `DynamicEventView.swift` | Minister Volkov → Director Wallace |
| `JournalToastView.swift` | Director Wallace preview |
| `OrgChartNode.swift` | Director Wallace, Premier Kowalski |
| `FallenCharactersView.swift` | Director Wallace, Deputy Sullivan, Comrade Peterson + fate narratives |
| `ReactionsSection.swift` | Preview character names (Gen. Sutton, Deputy Kowalski) |

### DocumentQueueService.swift Details

Updated all hardcoded character names in document templates:

**Surveillance Subjects:**
```swift
// Old: Ivan Petrov (Factory Worker), Yevgeni Morozov (Secretary)
// New: Marcus Henderson, Ellen Morrison, etc.
```

**Document Signers/Authors:**
```swift
// Old: Minister Volkov, Director Morozov
// New: Director Wallace, Director Morrison
```

**Arrest/Investigation Targets:**
```swift
// Old: Dmitri Volkov, Alexei Petrov
// New: David Wallace, Alexander Peterson
```

**Game Flags Updated:**
```swift
// Old: helped_morozov, visited_morozov_factory
// New: helped_morrison, visited_morrison_factory
```

### Build Verification

```
** BUILD SUCCEEDED **
```

All template name changes compiled successfully. Fresh app install shows American names on new documents.

---

## Files Modified Summary (Updated)

### Part 7: Template Names
| File | Type |
|------|------|
| `Services/ScenarioManager.swift` | Presenter names, narrative text |
| `Services/DocumentQueueService.swift` | ~40 template references |
| `Views/Desk/BriefingPaperView.swift` | Portrait mappings |
| `Views/Dossier/CharacterCardView.swift` | Portrait mappings |
| `Views/Components/ImmersiveComponents.swift` | Portrait names |
| `Views/Newspaper/NewspaperView.swift` | Preview names |
| `Views/Newspaper/SamizdatView.swift` | Preview names |
| `Views/Outcome/NarrativeEventView.swift` | Preview names |
| `Views/Documents/DocumentDetailView.swift` | Preview names |
| `Views/Documents/DocumentCardView.swift` | Preview names |
| `Views/Dossier/DossierView.swift` | Preview characters |
| `Views/Components/FactionBadge.swift` | Preview names |
| `Views/Desk/DynamicEventView.swift` | Preview names |
| `Views/Components/JournalToastView.swift` | Preview names |
| `Views/Ladder/OrgChartNode.swift` | Preview holders |
| `Views/Dossier/FallenCharactersView.swift` | Preview characters + narratives |
| `Views/Outcome/ReactionsSection.swift` | Preview characters |

---

## World Rework Plan - Complete (Updated)

| Part | Description | Status |
|------|-------------|--------|
| 1 | Faction Renames | ✓ Complete |
| 2 | Domestic Regions (7 Zones) | ✓ Complete |
| 3 | Foreign Countries (11 Nations) | ✓ Complete |
| 4 | Character Names (30+) | ✓ Complete |
| 5 | Terminology (SPB → BPS) | ✓ Complete |
| 6 | Documentation | ✓ Complete |
| 7 | Template & Preview Names (~80 refs) | ✓ Complete |

---

## Part 8: Additional Soviet Name Cleanup

### Overview

Additional Soviet-style names were discovered in narrative text, scenario dialogues, and service files. These were systematically replaced with American names.

### Name Mapping Applied (Additional)

| Old Soviet Name | New American Name |
|-----------------|-------------------|
| Volkov (in narratives) | Wallace |
| Sorokin | Sullivan |
| Antonov | Anderson |
| Gromov | Graham |
| Kuznetsov | Kennedy |
| Petrov | Peterson |
| Ivanov | Irving |
| Federov | Frederickson |
| Dmitri | David |
| Kozlov | Kowalski |
| Viktor Brenner | Victor Bennett |
| Worker Anya/Dmitri/Ivan/Elena | Worker Anna/David/John/Ellen |
| Pvt. Dmitri Orlov | Pvt. Daniel O'Brien |
| Pvt. Anya Sorokina | Pvt. Anna Sullivan |
| Sgt. Yuri Malkin | Sgt. James Martin |
| Lt. Viktor Reznik | Lt. Victor Reynolds |
| Capt. Anna Volkov | Capt. Anna Wallace |
| Kursk (battle) | Antietam |

### Files Modified

#### Models
| File | Changes |
|------|---------|
| `CampaignConfig.swift` | 2 action descriptions (Wallace's department) |
| `NPCBehaviorTypes.swift` | 1 comment example |

#### Services
| File | Changes |
|------|---------|
| `ScenarioManager.swift` | ~60 narrative text occurrences |
| `DocumentQueueService.swift` | 8 military character names |
| `GameEngine.swift` | ~10 outcome text references |
| `EventGenerationService.swift` | 2 event text references |
| `CharacterAgencyService.swift` | 1 narrative reference |
| `CharacterDiscoveryService.swift` | 2 comment examples |
| `DynamicEventTriggerService.swift` | 3 event text references |

#### Views
| File | Changes |
|------|---------|
| `GameOverView.swift` | 1 game over text |
| `ActionCardView.swift` | 1 preview title |
| `OptionCardView.swift` | 2 option descriptions |
| `MemoTrayView.swift` | 2 memo content references |
| `ClickableNarrativeText.swift` | 3 example/comment references |
| `TappableName.swift` | Viktor Brenner → Victor Bennett |
| `OutcomeView.swift` | 1 outcome text |
| `ReactionsSection.swift` | 5 worker names |
| `DossierView.swift` | 2 variable names (volkov→wallace, petrov→peterson) |

### Build Verification

```
** BUILD SUCCEEDED **
```

---

## World Rework Plan - Complete (Final)

| Part | Description | Status |
|------|-------------|--------|
| 1 | Faction Renames | ✓ Complete |
| 2 | Domestic Regions (7 Zones) | ✓ Complete |
| 3 | Foreign Countries (11 Nations) | ✓ Complete |
| 4 | Character Names (30+) | ✓ Complete |
| 5 | Terminology (SPB → BPS) | ✓ Complete |
| 6 | Documentation | ✓ Complete |
| 7 | Template & Preview Names (~80 refs) | ✓ Complete |
| 8 | Additional Soviet Name Cleanup (~100 refs) | ✓ Complete |

---

## Next Steps

The world rework is complete. Potential future enhancements:

1. Update any remaining image assets from SPB_OPS to BPS_OPS
2. Review AI-generated content for consistency with new world
3. Add more American cultural flavor to scenarios
4. Consider adding Hawaii liberation storyline
5. Develop Canadian border tension events
